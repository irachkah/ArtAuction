@using System.Linq
@using ArtAuction.Models
@model ArtAuction.Models.Gallery
@{
    ViewData["Title"] = "Gallery";
    Layout = "_Layout";
}

<div class="container">
    <h2 class="text-center m-3"> @Model.Title</h2>
    <p class="text-center font-weight-normal"><span class="font-weight-bold">Address:</span> @Model.Address</p>
    <p class="text-center font-weight-normal"><span class="font-weight-bold">Founded:</span> @Model.Founded.Date.ToString("d")</p>
    <p class="text-center font-weight-normal"><span class="font-weight-bold">Movement\styles:</span> @Model.Movement</p>
    <p class="text-center font-weight-normal"> @Model.About</p>
    @if ((User.IsInRole("Administrator") || Model.HasCurrentUser(User.Identity.Name)) && Model.HasRepresentatives)
    {
        <p class="font-weight-bold text-center"> Gallery representatives:</p>
        foreach (User user in Model.Representatives)
        {
            <a asp-controller="Collectors" asp-action="CollectorView" asp-route-id="@user.Id"><p class="text-center font-weight-normal">@user.FirstName @user.LastName</p></a>
        }
    }
    @if (User.IsInRole("Administrator"))
    {
        <a asp-controller="Galleries" asp-action="EditGallery" asp-route-id="@Model.Id" method="get" class="btn btn-info btn-lg btn-block pt-2 pb-2">Edit</a>
        <form asp-controller="Galleries" asp-action="DeleteGallery" asp-route-id="@Model.Id" method="post">
            <input type="submit" value="Delete" class="btn btn-danger btn-lg btn-block mb-3"/>
        </form>
    }
</div>
